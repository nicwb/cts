<form [formGroup]="myForm2" (ngSubmit)="onSubmit()">
    <h3>Convert To Family Pension</h3>
    <div class="card col-12  relative left-1/4 ml-auto mr-auto">
        <p-fieldset legend="Details" [toggleable]="false" class=" ">
            <div class="grid col-12  ">
                <div class="flex col-12 md:col-4">
                    <label class="w-1/3">PPO ID : </label>
                    <span class=" p-input-icon-right ml-auto">
                        <input type="text" class="w-1/3" formControlName="ppo_id" pInputText placeholder="PPO ID" />
                        <i class="pi pi-search"></i>
                    </span>
                </div>
                <div class="flex col-12 md:col-4">
                    <label class="w-1/3">PPO Number : </label>
                    <span class=" ml-auto ">
                        <input pInputText type="text" class="w-1/3" formControlName="ppo_number" placeholder="PPO Number">
                    </span>
                </div>
                <div class="flex col-12 md:col-4">
                    <label class="w-1/3">Pension Name : </label>
                    <span class=" ml-auto ">
                        <input pInputText type="text" class="w-1/3" formControlName="pension_name" placeholder="Pension Name">
                    </span>
                </div>
                <div class="flex col-12 md:col-4">
                    <label class=" w-1/3 ">Commmencement Date </label>
                    <span class=" ml-auto ">
                        <input type="date" class=" w-1/3 " pInputText formControlName="commmencement_date" placeholder="Commmencement Date">
                    </span>
                </div>
                <div class="flex col-12 md:col-4">
                    <label class=" w-1/3 ">Basic Pension : </label>
                    <span class=" ml-auto ">
                        <p-inputNumber mode="decimal" class=" w-1/3 " formControlName="basic_pension" [showButtons]="false" [min]="0" [max]="100"
                            placeholder="Basic Pension">
                        </p-inputNumber>
                    </span>
                </div>
                <div class="flex col-12 md:col-4">
                    <label class=" w-1/3 ">Bank Name : </label>
                    <span class=" ml-auto ">
                        <input pInputText type="text" class=" w-1/3 " formControlName="bank_name" placeholder="Bank Name">
                    </span>
                </div>
                <div class="flex col-12 md:col-4">
                    <label class=" w-1/3 ">Commuted Amount : </label>
                    <span class=" ml-auto ">
                        <p-inputNumber mode="decimal" class=" w-1/3 " formControlName="commuted_amount" [showButtons]="false" [min]="0" [max]="100"
                            placeholder="Commuted Amount">
                        </p-inputNumber>
                    </span>
                </div>
                <div class="flex col-12 md:col-4">
                    <label class=" w-1/3 ">Bank Account No : </label>
                    <span class=" ml-auto ">
                        <p-inputNumber mode="decimal" class=" w-1/3 " formControlName="bank_account_no" [showButtons]="false" [min]="0" [max]="100"
                            placeholder="Bank Account No">
                        </p-inputNumber>
                    </span>
                </div>
                <div class="flex col-12 md:col-4">
                    <label class="w-1/3">Pension Reduced : </label>
                    <span class=" ml-auto ">
                        <p-inputNumber mode="decimal" class=" w-1/3" formControlName="pension_reduced" [showButtons]="false" [min]="0" [max]="100">
                        </p-inputNumber>
                    </span>
                </div>
                <div class="flex col-12 md:col-4">
                    <label class="w-1/3">Date of Death : </label>
                    <span class=" ml-auto ">
                        <input pInputText type="date" formControlName="date_of_death" class="w-1/3">
                    </span>
                </div>
                <div class="flex col-12 md:col-4">
                    <label class="w-1/3">Pension Status : </label>
                    <span class=" ml-auto ">
                        <p-dropdown [options]="status" [(ngModel)]="selectedDrop" formControlName="pension_status" class="w-1/3"
                            placeholder="Pension Status" [showClear]="false"></p-dropdown>
                    </span>
                </div>
                <div class="flex col-12 md:col-4">
                    <label class="w-1/3">Expire Date : </label>
                    <span class=" ml-auto ">
                        <input pInputText type="date" formControlName="expire_date" class="w-1/3">
                    </span>
                </div>
                <div class="flex col-12 md:col-4">
                    <label class="w-1/3">Pension Type : </label>
                    <span class=" ml-auto ">
                        <p-dropdown [options]="susType" [(ngModel)]="susselectedDrop" formControlName="pension_type" class="w-1/3"
                            placeholder="Pension Type" [showClear]="false"></p-dropdown>
                    </span>
                </div>
                <div class="flex col-12 md:col-4">
                    <label class="w-1/3">Category Description : </label>
                    <span class=" ml-auto ">
                        <input pInputText type="text" formControlName="category_description" class="w-1/3">
                    </span>
                </div>
                <div class="flex col-12 md:col-3 content-center">
                    <label class="w-1/3">Remarks : </label>
                    <span class=" ml-auto ">
                        <textarea rows="4" cols="30" placeholder="Your Message" formControlName="remarks" class="w-1/3" pInputTextarea></textarea>
                    </span>
                </div>
            </div>
        </p-fieldset>

        <p-fieldset legend="Family Details" [toggleable]="false" class=" ">
            <p-table [value]="customers1" rowGroupMode="subheader" formArrayName="items"
                groupRowsBy="representative.name" sortField="representative.name" responsiveLayout="scroll"
                [scrollable]="true" scrollHeight="400px">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Dependent Name </th>
                        <th>Relationship</th>
                        <th>Date of Birth</th>
                        <th>Handicapped</th>
                        <th>Eligible for family pension</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-customer let-rowIndex="rowIndex">
                    <tr>
                        <td style="min-width: 200px;">
                            <input pInputText type="text" formControlName="Dependent_name">
                        </td>
                        <td style="min-width: 200px;">
                            <p-dropdown [options]="relatype" [(ngModel)]="relationship" formControlName="Relationship"
                                placeholder="Relationship" [showClear]="false"></p-dropdown>
                        </td>
                        <td style="min-width: 200px;">
                            <input type="date" pInputText formControlName="date_of_birth"
                                placeholder="Commmencement Date">
                        </td>
                        <td style="min-width: 200px;">
                            <p-checkbox name="group1" value="Handicapped" formControlName="Handicap"
                                [(ngModel)]="valCheck" id="ny"></p-checkbox>
                            <label for="ny">Handicapped</label>
                        </td>
                        <td style="min-width: 200px;">
                            <p-checkbox name="group1" value="Eligible for Family Pension"
                                formControlName="Eligible_for_family_pension" [(ngModel)]="valCheck"
                                id="sf"></p-checkbox>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </p-fieldset>

        <p-fieldset legend="Nominee Details">
            <p-table [value]="customers3">
                <ng-template pTemplate="header">
                    <tr>
                        <th></th>
                        <th>Nominee Name</th>
                        <th>Relationship</th>
                        <th>Date of Birth</th>
                        <th>Nominee Type</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-customer let-rowIndex="rowIndex">
                    <tr>
                        <td>{{customer.id}}</td>
                        <td style="min-width: 200px;">
                            <input class=" block mt-1" pInputText id="name1" type="text" />
                        </td>
                        <td style="min-width: 200px;">
                            <p-dropdown [options]="relatype1" placeholder="Relationship"></p-dropdown>
                        </td>
                        <td style="min-width: 200px;">
                            <input class=" ml-5 mt-1" type="date" pInputText placeholder="Date of Birth">
                        </td>
                        <td style="min-width: 200px;">
                            <p-dropdown class=" ml-5 mt-3" [options]="type" placeholder="Nominee Type"></p-dropdown>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </p-fieldset>

        <p-fieldset legend="Family Pension Details" [toggleable]="false" class=" ">
            <p-table [value]="customers2" responsiveLayout="scroll" [scrollable]="true" scrollHeight="400px">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Enhance Family Pension </th>
                        <th>Enhance Family Pension Upto</th>
                        <th>Family Pension</th>
                        <th>Effective</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-customer let-rowIndex="rowIndex">
                    <tr>
                        <td style="min-width: 200px;">
                            <input pInputText type="text" class="w-1/3">
                        </td>
                        <td style="min-width: 200px;">
                            <input pInputText type="text" class="w-1/3">
                        </td>
                        <td style="min-width: 200px;">
                            <input pInputText type="text" class="w-1/3">
                        </td>
                        <td style="min-width: 200px;">
                            <input pInputText type="text" class="w-1/3">
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </p-fieldset>

        <p-fieldset legend="Pension Details">
            <p-table [value]="pension_details_items" responsiveLayout="scroll" [scrollable]="true" scrollHeight="400px">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Component Description </th>
                        <th>wef</th>
                        <th>Amount</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-item let-rowIndex="rowIndex">
                    <tr>
                        <td>{{item.component_description}}</td>
                        <td>{{item.wef}}</td>
                        <td>{{item.amount}}</td>
                    </tr>
                </ng-template>
            </p-table>
        </p-fieldset>

        <div class="flex  justify-center gap-3">
            <button pButton pRipple type="button" label="Search" class="p-button-raised ml-auto"></button>
            <button pButton pRipple type="button" label="Insert" (click)="addItem()" class="p-button-raised  "></button>
            <button pButton pRipple type="submit" label="Save" class="p-button-raised "></button>
            <button pButton pRipple type="button" label="Refresh" class="p-button-raised mr-auto "></button>
        </div>
    </div>

</form>