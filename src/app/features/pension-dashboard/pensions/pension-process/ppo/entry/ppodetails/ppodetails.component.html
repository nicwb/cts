<div class="container">

    <div class="grid">
        <div class="col-12">
            <div class="card">
                <div class="flex flex-column gap-4 mt-4">
                    <p-steps [model]="steps" [(activeIndex)]="currentStepIndex"></p-steps>
                    <div class="my-4 px-4">

                            <div class="m-3" style="width: fit-content;" (click)="fetchPPOID();">
                                <p-button *ngIf="!ppoID" label="Search" icon="pi pi-search" iconPos="right"></p-button>
                                <h4 *ngIf="ppoID">PPOID-{{ppoID}}</h4>
                            </div>
                            <!-- PPO and OtherDetails -->
                            <div *ngIf="currentStepIndex === 0" class="flex flex-column gap-3">
                               <app-details></app-details>
                            </div>


                            <!-- BankDetails -->
                            <div *ngIf="currentStepIndex === 1" class="flex flex-column gap-3">
                                <app-bank-details></app-bank-details>
                            </div>


                            <div *ngIf="currentStepIndex === 2" class="flex flex-column gap-3">
                                <!-- add from for sanction -->
                                <app-sanction></app-sanction>
                            </div>

                            <div *ngIf="currentStepIndex === 3" class="flex flex-column gap-3">
                                <app-family-nominee></app-family-nominee>
                            </div>
                    </div>
                </div>
                
                <div class="flex flex-col mt-1 align-items-center justify-content-center">
                    <div class="flex flex-wrap gap-2">
                        <p-button label="Back" *ngIf="currentStepIndex > 0" icon="pi pi-step-backward" styleClass="p-button-warning"
                            (onClick)="prev()"></p-button>
                        <div class="flex flex-wrap gap-2">
                            <p-button label="Next" *ngIf="(currentStepIndex < 3)" [disabled]="!isFormValid" icon="pi pi-step-forward"
                                styleClass="p-button-success" (onClick)="next()"></p-button>
                        </div>

                        <div class="flex flex-wrap gap-2">
                            <p-button label="submit" *ngIf="currentStepIndex === 3" [disabled]="!isFormValid" icon="pi pi-bookmark"
                                styleClass="p-button-raised" (click)="next()"></p-button>
                                <!-- <button pButton pRipple label="Submit" icon="pi pi-bookmark"></button> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>