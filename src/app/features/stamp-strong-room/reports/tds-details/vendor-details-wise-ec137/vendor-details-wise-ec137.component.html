<div class="grid">
    <div class="col-12">
        <app-common-header [SubHeaderName]="'EC-137'" [headerName]="'Vendor Details Wise'" [imgSrc]="'assets/layout/images/icons/vendor-wise-ec136.png'">
        </app-common-header>
    </div>
</div>
<section class="w-full h-full">
    <div class="w-11 mx-auto flex align-items-center justify-content-center">
        <div class="surface-card px-6 py-5 shadow-2 border-round p-fluid">
            <h3>Vendor Details Wise</h3>
            <form [formGroup]="ec137Form" class="grid formgrid p-fluid">
                <div class="field mb-4 col-12 md:col-6">
                    <label for="fromDate" class="font-medium text-900">From Date</label>
                    <p-calendar class="p-component p-element w-full p-calendar" formControlName="fromDate" placeholder="mm/dd/yyyy" appendTo="body" [showIcon]="true" inputId="icon"></p-calendar>
                    <div *ngIf="ec137Form.controls['fromDate'].errors && (ec137Form.controls['fromDate'].dirty || ec137Form.controls['fromDate'].touched)">
                        <small class="p-error" *ngIf="ec137Form.controls['fromDate'].errors['required']">From Date is required.</small>
                    </div>
                </div>
                <div class="field mb-4 col-12 md:col-6">
                    <label for="toDate" class="font-medium text-900">To Date</label>
                    <p-calendar [maxDate]="maxDateLimit" class="p-component p-element w-full p-calendar" formControlName="toDate" placeholder="mm/dd/yyyy" appendTo="body" [showIcon]="true" inputId="icon"></p-calendar>
                    <div *ngIf="ec137Form.controls['toDate'].errors && (ec137Form.controls['toDate'].dirty || ec137Form.controls['toDate'].touched)">
                        <small class="p-error" *ngIf="ec137Form.controls['toDate'].errors['required']">To Date is required.</small>
                    </div>
                </div>
            </form>
            <div class="w-full flex justify-content-end align-items-center">
                <button pbutton="" pripple="" icon="pi pi-file" (click)="generateEC137()" class="p-element p-ripple w-auto p-button p-component">
                    <span class="p-button-label">Generate</span>
                </button>
            </div>
        </div>
    </div>
    <div class="col-12">
        <p-table [value]="data" [rowHover]="true" styleClass="p-datatable-gridlines" responsiveLayout="scroll"
            [paginator]="true" [rows]="5" [rowsPerPageOptions]="[5, 10, 20]">
            <ng-template pTemplate="header">
                <tr>
                  <th style="min-width: 12rem">Vendor ID</th>
                  <th style="min-width: 12rem">Vendor Name</th>
                  <th style="min-width: 12rem">Address</th>
                  <th style="min-width: 12rem">Stamp Category</th>
                  <th style="min-width: 12rem">Denomination</th>
                  <th style="min-width: 12rem">Gross</th>
                  <th style="min-width: 12rem">Discount</th>
                  <th style="min-width: 12rem">Tax</th>
                  <th style="min-width: 12rem">Net Amt.</th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-data>
                <tr class="p-selectable-row">
                  <td style="min-width: 12rem">{{ data.vendorId }}</td>
                  <td style="min-width: 12rem">{{ data.vendorName }}</td>
                  <td style="min-width: 12rem">{{ data.address }}</td>
                  <td style="min-width: 12rem">{{ data.stampCategory }}</td>
                  <td style="min-width: 12rem">{{ data.denomination }}</td>
                  <td style="min-width: 12rem">{{ data.gross }}</td>
                  <td style="min-width: 12rem">{{ data.discount }}</td>
                  <td style="min-width: 12rem">{{ data.tax }}</td>
                  <td style="min-width: 12rem">{{ data.net }}</td>
                </tr>
              </ng-template>
              
            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="9">No Data Available</td>
                </tr>
            </ng-template>
            <ng-template pTemplate="loadingbody">
                <tr>
                    <td colspan="12">Loading Employee Accounts. Please wait.</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</section>
