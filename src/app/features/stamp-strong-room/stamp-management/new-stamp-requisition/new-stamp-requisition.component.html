<div class="grid">
    <div class="col-12">
        <app-common-header [headerName]="'New Requisition'" [imgSrc]="'assets/layout/images/icons/new-requisition.png'">
        </app-common-header>
    </div>
</div>
<section class="px-2 py-2 mx-auto w-full flex align-items-center justify-content-center">
    <div class="surface-card px-6 py-4 shadow-2 border-round p-fluid">
        <div class="grid formgrid p-fluid">
            <div class="py-4 w-full">
                <h1 class="font-bold">Summary</h1>
                <div class="flex gap-2 align-items-end w-full">
                    <div class="flex-1">
                        <label for="totalAmount" class="block mb-1 text font-medium text-900">Total Amount</label>
                        <input type="text" pinputtext="" readonly disabled [value]="totalAmount"
                            class="p-inputtext p-component p-element w-full">
                    </div>
                    <div class="flex-1">
                        <label for="totalDiscountAmount" class="block mb-1 text font-medium text-900">Total Discount
                            Amount</label>
                        <input type="number" pinputtext="" readonly disabled [value]="totalDiscountAmount"
                            class="p-inputtext p-component p-element w-full">
                    </div>
                    <div class="flex-1">
                        <label for="totalTaxAmount" class="block mb-1 text font-medium text-900">Total Tax Amount</label>
                        <input pinputtext="" [value]="totalTaxAmount" readonly disabled
                            class="p-inputtext p-component p-element w-full">
                    </div>
                    <div class="flex-1">
                        <label for="totalNetAmount" class="block mb-1 text font-medium text-900">Total Net Amount</label>
                        <input type="text" pinputtext="" readonly disabled [value]="totalNetAmount"
                            class="p-inputtext p-component p-element w-full">
                    </div>
                </div>
            </div>
            <hr class="w-full pt-4">
            <div class="flex gap-2 align-items-end w-full">
                <div class="p-0 flex-1">
                    <label for="Category" class="block mb-1 text font-medium text-900">Combination</label>
                    <app-stamp-combination-dropdown
                        (StampCombinationSelected)="onStampCombinationSelected($event)"></app-stamp-combination-dropdown>
                </div>
                <div class="flex-1">
                    <label for="vendorDetails" class="block font-medium mb-1 text text-900">Vendor Details</label>
                    <!-- <app-vendor-details-dropdown  (VendorDetailsSelected)="onVendorDetailsSelected($event)"></app-vendor-details-dropdown> -->
                    <app-vendor-details-dropdown [ngClass]="{ 'pointer-events-none': !isVendorSelect }" (VendorDetailsSelected)="onVendorDetailsSelected($event)">
                    </app-vendor-details-dropdown>
                </div>
                <div class="flex-1">
                    <label for="Category" class="block mb-1 text font-medium text-900">Category</label>
                    <input type="text" pinputtext="" readonly disabled [value]="category"
                        class="p-inputtext p-component p-element w-full">
                </div>
                <div class="flex-1">
                    <label for="denomination" class="block mb-1 text font-medium text-900">Denomination (Rs.)</label>
                    <input type="number" pinputtext="" readonly disabled [value]="denomination"
                        class="p-inputtext p-component p-element w-full">
                </div>
                <div class="flex-1">
                    <label for="quantity" class="block mb-1 text font-medium text-900">Quantity</label>
                    <input pinputtext="" placeholder="Eg: 10" type="number" [(ngModel)]="quantity"
                        (ngModelChange)="onQuantityChange($event)" [value]="quantity"
                        class="p-inputtext p-component p-element w-full">
                </div>
                <div class="flex-1">
                    <label for="grossAmount" class="block mb-1 text font-medium text-900">Gross Amount (Rs.)</label>
                    <input type="text" pinputtext="" readonly disabled [value]="amount"
                        class="p-inputtext p-component p-element w-full">
                </div>
                <div class="flex-1">
                    <label for="discount" class="block mb-1 text font-medium text-900">Discount</label>
                    <input pinputtext="" [value]="discountAmount" disabled
                        class="p-inputtext p-component p-element w-full">
                </div>
                <div class="flex-1">
                    <label for="tax" class="block mb-1 text font-medium text-900">Tax</label>
                    <input type="text" pinputtext="" readonly disabled [value]="taxAmount"
                        class="p-inputtext p-component p-element w-full">
                </div>
                <div class="flex-1">
                    <label for="netAmount" class="block mb-1 text font-medium text-900">Net Amount (Rs.)</label>
                    <input type="text" pinputtext="" readonly disabled [value]="netAmount"
                        class="p-inputtext p-component p-element w-full">
                </div>
            </div>
            <div class="flex gap-2 justify-content-start py-3">
                <p-button [loading]="loading" label="Add New" (click)="addItems()" class="rounded">
                </p-button>
            </div>
            <p-table [value]="stampList" [rowHover]="true" styleClass="p-datatable-gridlines" class="w-full"
                responsiveLayout="scroll">
                <ng-template pTemplate="header">
                    <tr>
                        <th style="min-width: 12rem">Category</th>
                        <th style="min-width: 12rem">Denomination</th>
                        <th style="min-width: 12rem">Quantity</th>
                        <th style="min-width: 12rem">Gross Amount (Rs.)</th>
                        <th style="min-width: 12rem">Discount</th>
                        <th style="min-width: 12rem">Tax</th>
                        <th style="min-width: 12rem">Net Amount (Rs.)</th>
                        <th style="min-width: 12rem">Actions</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-stampList>
                    <tr class="p-selectable-row">
                        <td style="min-width: 12rem">{{ stampList.category }}</td>
                        <td style="min-width: 12rem">{{ stampList.denomination }}</td>
                        <td style="min-width: 12rem">{{ stampList.quantity }}</td>
                        <td style="min-width: 12rem">{{ stampList.grossAmount }}</td>
                        <td style="min-width: 12rem">{{ stampList.discountAmount }}</td>
                        <td style="min-width: 12rem">{{ stampList.taxAmount }}</td>
                        <td style="min-width: 12rem">{{ stampList.netAmount }}</td>
                        <td>
                            <p-button icon="pi pi-trash" severity="danger"
                                (onClick)="deleteProduct(stampList)"></p-button>
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td colspan="9">No Data Available</td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="loadingbody">
                    <tr>
                        <td colspan="12">Loading Employee Accounts. Please wait.</td>
                    </tr>
                </ng-template>
            </p-table>
            <div class="w-full flex justify-content-end align-items-center mt-3">
                <button pbutton="" pripple="" icon="pi pi-file" (click)="addStampRequisition()"
                    class="p-element p-ripple w-auto p-button p-component">
                    <span class="p-button-label">Submit Requisition</span>
                </button>
            </div>
        </div>
    </div>
</section>